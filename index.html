<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF Merger & Compressor</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
    min-height: 100vh;
    background: linear-gradient(135deg, #4f46e5, #3b82f6, #22d3ee, #10b981, #84cc16, #facc15, #f97316, #ef4444);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    color: #333;
  }

  @keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .container {
    width: 100%;
    max-width: 1200px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  }

  .logo {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .logo i {
    font-size: 28px;
    color: #4f46e5;
  }

  .logo h1 {
    font-size: 24px;
    font-weight: 700;
    background: linear-gradient(90deg, #4f46e5, #ef4444);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .help-section {
    background: #f8f9ff;
    border-radius: 8px;
    padding: 15px;
    max-width: 300px;
  }

  .help-section h2 {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #4f46e5;
    margin-bottom: 12px;
    font-size: 18px;
  }

  .help-step {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
  }

  .step-number {
    min-width: 26px;
    height: 26px;
    background: #4f46e5;
    color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 14px;
  }

  .step-content h3 {
    margin-bottom: 5px;
    color: #4f46e5;
    font-size: 16px;
  }

  .step-content p {
    color: #4b5563;
    font-size: 14px;
    line-height: 1.4;
  }

  .app-container {
    display: flex;
    gap: 20px;
    height: 75vh;
  }

  .app-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  }

  .tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    border-bottom: 2px solid #e2e8f0;
    padding-bottom: 15px;
  }

  .tab-btn {
    padding: 12px 25px;
    background: #f1f5f9;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    color: #64748b;
    transition: all 0.3s ease;
  }

  .tab-btn.active {
    background: #4f46e5;
    color: white;
  }

  .tab-btn i {
    margin-right: 8px;
  }

  .app-card {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .file-area {
    border: 2px dashed #cbd5e1;
    border-radius: 12px;
    padding: 35px;
    text-align: center;
    margin-bottom: 25px;
    transition: all 0.3s ease;
    background: #f8fafc;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  .file-area.active {
    border-color: #4f46e5;
    background: rgba(79, 70, 229, 0.05);
  }

  .file-area i {
    font-size: 48px;
    color: #4f46e5;
    margin-bottom: 15px;
  }

  .file-area h3 {
    font-size: 22px;
    color: #1e293b;
    margin-bottom: 10px;
  }

  .file-area p {
    color: #64748b;
    margin-bottom: 20px;
  }

  .browse-btn {
    background: #4f46e5;
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .browse-btn:hover {
    background: #4338ca;
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
  }

  #file-input, #compress-file-input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
  }

  .file-info {
    display: none;
    background: #f1f5f9;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    max-height: 200px;
    overflow-y: auto;
  }

  .file-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: white;
    border-radius: 8px;
    margin-bottom: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  }

  .file-name {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
    min-width: 0;
  }

  .file-name i {
    color: #ef4444;
    font-size: 18px;
  }

  .file-name span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .file-size {
    color: #64748b;
    font-size: 14px;
    margin: 0 10px;
  }

  .file-remove {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    font-size: 18px;
    flex-shrink: 0;
  }

  .action-buttons {
    display: flex;
    gap: 15px;
    margin-top: 20px;
  }

  .action-btn {
    flex: 1;
    padding: 16px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }

  .primary-btn {
    background: #4f46e5;
    color: white;
  }

  .primary-btn:hover:not(:disabled) {
    background: #4338ca;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.4);
  }

  .secondary-btn {
    background: #f1f5f9;
    color: #475569;
  }

  .secondary-btn:hover {
    background: #e2e8f0;
    transform: translateY(-2px);
  }

  .action-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
  }

  .progress-container {
    width: 100%;
    height: 8px;
    background: #e2e8f0;
    border-radius: 4px;
    overflow: hidden;
    margin: 15px 0;
    display: none;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #4f46e5, #3b82f6);
    border-radius: 4px;
    width: 0%;
    transition: width 0.4s ease;
  }

  .output-area {
    display: none;
    background: #f0fdf4;
    border: 1px solid #bbf7d0;
    border-radius: 10px;
    padding: 20px;
    margin-top: 25px;
    text-align: center;
    animation: fadeIn 0.5s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .output-area h3 {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    color: #15803d;
    margin-bottom: 15px;
  }

  .download-btn {
    background: #10b981;
    color: white;
    text-decoration: none;
    padding: 14px 35px;
    border-radius: 8px;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
    margin-top: 10px;
  }

  .download-btn:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
  }

  .features {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-top: 20px;
  }

  .feature-card {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 25px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
  }

  .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .feature-card i {
    font-size: 40px;
    color: #4f46e5;
    margin-bottom: 20px;
  }

  .feature-card h3 {
    color: #1e293b;
    margin-bottom: 12px;
  }

  .feature-card p {
    color: #64748b;
    font-size: 15px;
    line-height: 1.6;
  }

  footer {
    text-align: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    color: #475569;
    font-size: 15px;
  }

  @media (max-width: 900px) {
    .app-container {
      flex-direction: column;
      height: auto;
    }
    
    .features {
      grid-template-columns: 1fr;
    }
    
    .help-section {
      max-width: 100%;
    }
  }

  @media (max-width: 600px) {
    .tabs {
      flex-direction: column;
    }
    
    .action-buttons {
      flex-direction: column;
    }
    
    header {
      flex-direction: column;
      gap: 15px;
      text-align: center;
    }
    
    .file-area {
      padding: 25px 15px;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-file-pdf"></i>
        <h1>PDF Merger & Compressor</h1>
      </div>
      <div class="help-section">
        <h2><i class="fas fa-question-circle"></i> How to Use</h2>
        <div class="help-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Select PDFs</h3>
            <p>Choose files to merge or compress</p>
          </div>
        </div>
        <div class="help-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Process</h3>
            <p>Click the action button</p>
          </div>
        </div>
        <div class="help-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Download</h3>
            <p>Get your processed file</p>
          </div>
        </div>
      </div>
    </header>
    
    <div class="app-container">
      <div class="app-section">
        <div class="tabs">
          <button class="tab-btn active" id="merge-tab-btn">
            <i class="fas fa-object-group"></i> Merge PDFs
          </button>
          <button class="tab-btn" id="compress-tab-btn">
            <i class="fas fa-compress-alt"></i> Compress PDF
          </button>
        </div>
        
        <div class="app-card">
          <!-- Merge PDF Section -->
          <div class="tab-content" id="merge-section">
            <div class="file-area" id="merge-drop-area">
              <i class="fas fa-file-pdf"></i>
              <h3>Merge Multiple PDF Files</h3>
              <p>Select 2 or more PDF files to combine into a single document</p>
              <button class="browse-btn">
                <i class="fas fa-folder-open"></i> Browse Files
              </button>
              <input type="file" id="file-input" accept=".pdf" multiple>
            </div>
            
            <div class="file-info" id="merge-file-info">
              <!-- Files will be listed here dynamically -->
            </div>
            
            <div class="progress-container" id="merge-progress-container">
              <div class="progress-bar" id="merge-progress-bar"></div>
            </div>
            
            <div class="action-buttons">
              <button class="action-btn primary-btn" id="merge-btn" disabled>
                <i class="fas fa-object-group"></i> Merge PDFs
              </button>
              <button class="action-btn secondary-btn" id="reset-merge-btn">
                <i class="fas fa-redo"></i> Reset
              </button>
            </div>
            
            <div class="output-area" id="merge-output">
              <h3><i class="fas fa-check-circle"></i> Files Merged Successfully!</h3>
              <a href="#" class="download-btn" id="output-link">
                <i class="fas fa-download"></i> Download Merged PDF
              </a>
            </div>
          </div>
          
          <!-- Compress PDF Section -->
          <div class="tab-content" id="compress-section" style="display: none;">
            <div class="file-area" id="compress-drop-area">
              <i class="fas fa-file-pdf"></i>
              <h3>Compress a PDF File</h3>
              <p>Select a PDF file to reduce its file size</p>
              <button class="browse-btn">
                <i class="fas fa-folder-open"></i> Browse Files
              </button>
              <input type="file" id="compress-file-input" accept=".pdf">
            </div>
            
            <div class="file-info" id="compress-file-info">
              <!-- File will be listed here dynamically -->
            </div>
            
            <div class="progress-container" id="compress-progress-container">
              <div class="progress-bar" id="compress-progress-bar"></div>
            </div>
            
            <div class="action-buttons">
              <button class="action-btn primary-btn" id="compress-btn" disabled>
                <i class="fas fa-compress-alt"></i> Compress PDF
              </button>
              <button class="action-btn secondary-btn" id="reset-compress-btn">
                <i class="fas fa-redo"></i> Reset
              </button>
            </div>
            
            <div class="output-area" id="compress-output">
              <h3><i class="fas fa-check-circle"></i> File Compressed Successfully!</h3>
              <p id="size-comparison">Size reduced: <span id="original-size">0 MB</span> → <span id="compressed-size">0 MB</span></p>
              <a href="#" class="download-btn" id="compress-output-link">
                <i class="fas fa-download"></i> Download Compressed PDF
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="features">
      <div class="feature-card">
        <i class="fas fa-shield-alt"></i>
        <h3>Secure Processing</h3>
        <p>All files are processed in your browser. No uploads to servers means your documents stay private.</p>
      </div>
      
      <div class="feature-card">
        <i class="fas fa-bolt"></i>
        <h3>Fast & Efficient</h3>
        <p>Merge or compress PDF files in seconds with our optimized processing engine.</p>
      </div>
      
      <div class="feature-card">
        <i class="fas fa-infinity"></i>
        <h3>No Limits</h3>
        <p>Unlimited usage with no watermarks or file size restrictions. Completely free!</p>
      </div>
    </div>
    
    <footer>
      <p>© 2023 PDF Tools Pro | All processing happens locally in your browser - no server uploads</p>
    </footer>
  </div>

  <script>
    // Tab switching functionality
    const mergeTabBtn = document.getElementById('merge-tab-btn');
    const compressTabBtn = document.getElementById('compress-tab-btn');
    const mergeSection = document.getElementById('merge-section');
    const compressSection = document.getElementById('compress-section');
    
    mergeTabBtn.addEventListener('click', () => {
      mergeTabBtn.classList.add('active');
      compressTabBtn.classList.remove('active');
      mergeSection.style.display = 'block';
      compressSection.style.display = 'none';
    });
    
    compressTabBtn.addEventListener('click', () => {
      compressTabBtn.classList.add('active');
      mergeTabBtn.classList.remove('active');
      compressSection.style.display = 'block';
      mergeSection.style.display = 'none';
    });
    
    // Format file size
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    
    // Merge functionality
    const mergeDropArea = document.getElementById('merge-drop-area');
    const fileInput = document.getElementById('file-input');
    const mergeFileInfo = document.getElementById('merge-file-info');
    const mergeBtn = document.getElementById('merge-btn');
    const resetMergeBtn = document.getElementById('reset-merge-btn');
    const mergeOutput = document.getElementById('merge-output');
    const outputLink = document.getElementById('output-link');
    const mergeProgressBar = document.getElementById('merge-progress-bar');
    const mergeProgressContainer = document.getElementById('merge-progress-container');
    
    fileInput.addEventListener('change', handleMergeFiles);
    
    function handleMergeFiles() {
      if (fileInput.files.length === 0) return;
      
      mergeFileInfo.innerHTML = '';
      mergeFileInfo.style.display = 'block';
      
      for (const file of fileInput.files) {
        const fileItem = document.createElement('div');
        fileItem.className = 'file-item';
        fileItem.innerHTML = `
          <div class="file-name">
            <i class="fas fa-file-pdf"></i>
            <span>${file.name}</span>
          </div>
          <div class="file-size">${formatFileSize(file.size)}</div>
          <button class="file-remove">
            <i class="fas fa-times"></i>
          </button>
        `;
        
        fileItem.querySelector('.file-remove').addEventListener('click', () => {
          const dataTransfer = new DataTransfer();
          const files = Array.from(fileInput.files);
          const index = files.findIndex(f => f.name === file.name && f.size === file.size);
          
          if (index !== -1) {
            files.splice(index, 1);
            files.forEach(f => dataTransfer.items.add(f));
            fileInput.files = dataTransfer.files;
          }
          
          fileItem.remove();
          if (fileInput.files.length === 0) {
            mergeFileInfo.style.display = 'none';
          }
          
          mergeBtn.disabled = fileInput.files.length < 2;
        });
        
        mergeFileInfo.appendChild(fileItem);
      }
      
      mergeBtn.disabled = fileInput.files.length < 2;
      mergeOutput.style.display = 'none';
      mergeDropArea.classList.add('active');
    }
    
    resetMergeBtn.addEventListener('click', () => {
      fileInput.value = '';
      mergeFileInfo.innerHTML = '';
      mergeFileInfo.style.display = 'none';
      mergeBtn.disabled = true;
      mergeOutput.style.display = 'none';
      mergeProgressContainer.style.display = 'none';
      mergeDropArea.classList.remove('active');
    });
    
    mergeBtn.addEventListener('click', mergePDFs);
    
    async function mergePDFs() {
      if (fileInput.files.length < 2) return;
      
      mergeBtn.disabled = true;
      mergeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
      mergeOutput.style.display = 'none';
      mergeProgressContainer.style.display = 'block';
      mergeProgressBar.style.width = '0%';
      
      try {
        const mergedPdf = await PDFLib.PDFDocument.create();
        const totalFiles = fileInput.files.length;
        let processed = 0;
        
        for (const file of fileInput.files) {
          const arrayBuffer = await file.arrayBuffer();
          const pdf = await PDFLib.PDFDocument.load(arrayBuffer);
          const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
          copiedPages.forEach(page => mergedPdf.addPage(page));
          
          processed++;
          const progress = (processed / totalFiles) * 100;
          mergeProgressBar.style.width = `${progress}%`;
        }
        
        // Simulate compression progress
        mergeProgressBar.style.width = '85%';
        await new Promise(resolve => setTimeout(resolve, 500));
        
        const pdfBytes = await mergedPdf.save({ useObjectStreams: true });
        mergeProgressBar.style.width = '100%';
        
        await new Promise(resolve => setTimeout(resolve, 300));
        mergeProgressContainer.style.display = 'none';
        
        const blob = new Blob([pdfBytes], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        
        outputLink.href = url;
        outputLink.download = 'merged.pdf';
        mergeOutput.style.display = 'block';
        
        mergeBtn.innerHTML = '<i class="fas fa-object-group"></i> Merge PDFs';
      } catch (e) {
        alert('Error during processing: ' + e.message);
        mergeBtn.innerHTML = '<i class="fas fa-object-group"></i> Merge PDFs';
        mergeProgressContainer.style.display = 'none';
      }
      mergeBtn.disabled = false;
    }
    
    // Compress functionality
    const compressDropArea = document.getElementById('compress-drop-area');
    const compressFileInput = document.getElementById('compress-file-input');
    const compressFileInfo = document.getElementById('compress-file-info');
    const compressBtn = document.getElementById('compress-btn');
    const resetCompressBtn = document.getElementById('reset-compress-btn');
    const compressOutput = document.getElementById('compress-output');
    const compressOutputLink = document.getElementById('compress-output-link');
    const sizeComparison = document.getElementById('size-comparison');
    const originalSizeSpan = document.getElementById('original-size');
    const compressedSizeSpan = document.getElementById('compressed-size');
    const compressProgressBar = document.getElementById('compress-progress-bar');
    const compressProgressContainer = document.getElementById('compress-progress-container');
    
    compressFileInput.addEventListener('change', handleCompressFile);
    
    function handleCompressFile() {
      if (!compressFileInput.files.length) return;
      
      const file = compressFileInput.files[0];
      compressFileInfo.innerHTML = `
        <div class="file-item">
          <div class="file-name">
            <i class="fas fa-file-pdf"></i>
            <span>${file.name}</span>
          </div>
          <div class="file-size">${formatFileSize(file.size)}</div>
          <button class="file-remove">
            <i class="fas fa-times"></i>
          </button>
        </div>
      `;
      
      compressFileInfo.querySelector('.file-remove').addEventListener('click', () => {
        compressFileInput.value = '';
        compressFileInfo.innerHTML = '';
        compressFileInfo.style.display = 'none';
        compressBtn.disabled = true;
        compressDropArea.classList.remove('active');
      });
      
      compressFileInfo.style.display = 'block';
      compressBtn.disabled = false;
      compressOutput.style.display = 'none';
      compressDropArea.classList.add('active');
    }
    
    resetCompressBtn.addEventListener('click', () => {
      compressFileInput.value = '';
      compressFileInfo.innerHTML = '';
      compressFileInfo.style.display = 'none';
      compressBtn.disabled = true;
      compressOutput.style.display = 'none';
      compressProgressContainer.style.display = 'none';
      compressDropArea.classList.remove('active');
    });
    
    compressBtn.addEventListener('click', compressPDF);
    
    async function compressPDF() {
      if (!compressFileInput.files.length) return;
      
      const file = compressFileInput.files[0];
      const originalSize = file.size;
      
      compressBtn.disabled = true;
      compressBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Compressing...';
      compressOutput.style.display = 'none';
      compressProgressContainer.style.display = 'block';
      compressProgressBar.style.width = '0%';
      
      try {
        compressProgressBar.style.width = '30%';
        await new Promise(resolve => setTimeout(resolve, 300));
        
        const arrayBuffer = await file.arrayBuffer();
        const pdf = await PDFLib.PDFDocument.load(arrayBuffer);
        
        compressProgressBar.style.width = '60%';
        await new Promise(resolve => setTimeout(resolve, 300));
        
        const compressedPdf = await PDFLib.PDFDocument.create();
        const pages = await compressedPdf.copyPages(pdf, pdf.getPageIndices());
        pages.forEach(page => compressedPdf.addPage(page));
        
        compressProgressBar.style.width = '85%';
        await new Promise(resolve => setTimeout(resolve, 500));
        
        const pdfBytes = await compressedPdf.save({ useObjectStreams: true });
        compressProgressBar.style.width = '100%';
        
        await new Promise(resolve => setTimeout(resolve, 300));
        compressProgressContainer.style.display = 'none';
        
        const blob = new Blob([pdfBytes], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        
        compressOutputLink.href = url;
        compressOutputLink.download = 'compressed.pdf';
        
        // Show size comparison
        const compressedSize = blob.size;
        originalSizeSpan.textContent = formatFileSize(originalSize);
        compressedSizeSpan.textContent = formatFileSize(compressedSize);
        
        const reduction = Math.round((1 - compressedSize / originalSize) * 100);
        sizeComparison.innerHTML = `Size reduced: <span id="original-size">${formatFileSize(originalSize)}</span> → <span id="compressed-size">${formatFileSize(compressedSize)}</span> <span style="color:#10b981;">(${reduction}% reduction)</span>`;
        
        compressOutput.style.display = 'block';
        compressBtn.innerHTML = '<i class="fas fa-compress-alt"></i> Compress PDF';
      } catch (e) {
        alert('Error during compression: ' + e.message);
        compressBtn.innerHTML = '<i class="fas fa-compress-alt"></i> Compress PDF';
        compressProgressContainer.style.display = 'none';
      }
      compressBtn.disabled = false;
    }
    
    // Initialize
    document.querySelectorAll('.file-area').forEach(area => {
      area.addEventListener('dragover', (e) => {
        e.preventDefault();
        area.classList.add('active');
      });
      
      area.addEventListener('dragleave', () => {
        area.classList.remove('active');
      });
      
      area.addEventListener('drop', (e) => {
        e.preventDefault();
        area.classList.remove('active');
        
        if (e.dataTransfer.files.length) {
          if (area.id === 'merge-drop-area') {
            fileInput.files = e.dataTransfer.files;
            handleMergeFiles();
          } else {
            compressFileInput.files = e.dataTransfer.files;
            handleCompressFile();
          }
        }
      });
    });
  </script>
</body>
</html>